# EFS(Elastic File System)

- 네트워크 기반 파일 시스템
- 여러 대의 인스턴스가 동시에 접속해 사용할 수 있는 공유 저장소

## 정의

- EBS와는 다른 서비스
  - EBS는 특정한 인스턴스에 직접 연결되어 해당 인스턴스만 사용할 수 있는 블록 스토리지
  - EFS는 특정한 VPC(네트워크)에 연결되어, 해당 VPC에 속한 여러 인스턴스가 EFS 내 파일에 접근할 수 있는 네트워크 기반 파일 시스템
- EFS는 파일 시스템과 액세스 포인트로 구성
  - 액세스 포인트는 리눅스의 마운트 개념과 유사, 여러 인스턴스가 EFS에 접근할 수 있도록 하는 하나의 접속 지점
- EFS는 리눅스의 NFS, Samba(SMB)와 비교하면 이해하기 쉬움
  - Samba는 리눅스-윈도우 간 파일 공유를 지원하는 프로토콜
  - NFS는 비슷한 원리로 리눅스-리눅스 간 파일 공유를 위한 프로토콜
    - 각 리눅스 서버가 접근 가능한 하나의 공유 저장소가 설정됨

## 특징

- 여러 AZ에 데이터 중복 저장
  - 가용성 및 내구성 보장
  - 한 AZ에 장애가 발생해도 데이터 안전
- 스토리지 자동 확장
  - 파일 추가 및 삭제에 따라 용량이 자동 확장, 축소
- 보안
  - 보안그룹 설정으로 접근 제어
  - KMS로 데이터 암호화 가능
- 수명 주기 정책 사용 가능
  - 자주 사용하지 않는 서비스를 저비용 저장소로 이동 가능

## 성능 모드

- 범용
- 최대 I/O

## 처리량 옵션

- 버스팅: 처리량 자동 증가
- 프로비저닝: 원하는 처리량을 직접 설정
- 엘라스틱: 처리량 자동 조절

## 스토리지 클래스

- 스탠다드
  - 다중 AZ에 데이터 중복 저장
  - 자주 접근하는 파일 저장에 적합
- IA(Infrequent Access)
  - 다중 AZ에 데이터 중복 저장
  - 자주 접근하지 않는 파일 저장에 적합
- One Zone, One Zone-IA
  - 단일 AZ에 데이터 저장
  - 비용 절감 가능, 가용성 감소
